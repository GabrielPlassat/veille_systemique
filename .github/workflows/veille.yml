name: GÃ©nÃ©ration de la veille systÃ©mique

on:
  schedule:
    - cron: '0 10 * * 1'  # Lundi Ã  12h (heure de Paris = UTC+2)
  workflow_dispatch:

jobs:
  generate_veille:
    runs-on: ubuntu-latest

    steps:
      - name: Cloner le dÃ©pÃ´t
        uses: actions/checkout@v3

      - name: GÃ©nÃ©rer la veille (placeholder)
        run: |
          mkdir -p veille
          echo "# ðŸŒ Veille du $(date '+%Y-%m-%d')" > veille/veille-$(date '+%Y-%m-%d').md
          echo "\nðŸ‘‰ Contenu Ã  insÃ©rer ici. (Je te fournirai la veille chaque semaine)" >> veille/veille-$(date '+%Y-%m-%d').md

      - name: Commit & Push
        run: |
          git config user.name "github-actions"
          git config user.email "github-actions@github.com"
          git add veille/
          git commit -m "ðŸ†• Ajout de la veille du $(date '+%Y-%m-%d')" || echo "Aucun changement"
          git push
